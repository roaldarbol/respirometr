<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Read respirometry data • respirometr</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read respirometry data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">respirometr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/respirometr.html">Get started</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorial" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorial</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorial">
<li><a class="dropdown-item" href="../articles/read-licor.html">Read respirometry data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/roaldarbol/respirometr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Read respirometry data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/roaldarbol/respirometr/blob/main/vignettes/articles/read-licor.Rmd" class="external-link"><code>vignettes/articles/read-licor.Rmd</code></a></small>
      <div class="d-none name"><code>read-licor.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.roald-arboel.com/respirometr/">respirometr</a></span><span class="op">)</span></span></code></pre></div>
<p>Trackball experiments, in which animals are tethered/restrained atop
a (most commonly) styrofoam ball are common experiments within animal
behaviour and neuroscience.</p>
<p>There are different ways to obtain data from trackball experiments,
and although we only currently support limited ways, we are looking
forward to supporting all your trackball experiments!</p>
<p>The main interface from your data to a standardised trackball data
frame is the <code>read_trackball()</code> function. The most common
experimental setup uses two optical computer mics (or other optical flow
sensors), which detects movements of the ball at different axes and is
the primary experimental setup we support (although see our <a href="https://roald-arboel.com/trackballr#roadmap" class="external-link">roadmap</a>!). For
this experiment, <code>read_trackball()</code> requires <strong>two file
paths, one for each sensor</strong>.</p>
<p>You can find pairs with variations of <code><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files()</a></code> and
for-loops. We’ll go through how to use <code>read_trackball()</code> for
a single experimental trial, as well as a few ways of managing multiple
experimental trials at the same time.</p>
<div class="section level2">
<h2 id="the-read_trackball-function">The <code>read_trackball()</code> function<a class="anchor" aria-label="anchor" href="#the-read_trackball-function"></a>
</h2>
<p>We recommend keeping your analysis scripts and data in the same
project (which doesn’t mean folder), and to use the great <a href="https://here.r-lib.org/index.html" class="external-link">here</a> package package to
manage your files (see their documentation to learn more about it).</p>
<p>First, we’ll let R know which is our project root folder.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/" class="external-link">here</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; here() starts at /home/runner/work/respirometr/respirometr</span></span>
<span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/i_am.html" class="external-link">i_am</a></span><span class="op">(</span><span class="st">"vignettes/articles/read-licor.Rmd"</span><span class="op">)</span></span>
<span><span class="co">#&gt; here() starts at /home/runner/work/respirometr/respirometr</span></span></code></pre></div>
<p>Our data lives in a funky place (because of the constraints of being
in an R package), but giving file paths is easy.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">filepath_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"tests"</span>, <span class="st">"data"</span>, <span class="st">"LI850.txt"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># These might be something like: here("data", "trackball", "sensor_1", "trackballdata_100.csv") for you!</span></span></code></pre></div>
<p>Great, now we have our file paths. But the function needs to know a
few more things.</p>
<ul>
<li>
<strong>Experimental configuration</strong>
<ul>
<li>Takes either <code>"free"</code> or <code>"fixed"</code>.</li>
</ul>
</li>
<li>
<strong>Time column</strong>
<ul>
<li>Which column contains time stamps in either seconds or datetime
format (takes either column number or name in quotes,
e.g. <code>4</code> or <code>"time"</code>)</li>
</ul>
</li>
<li>
<strong>Sampling rate</strong>
<ul>
<li>This <em>can</em> be your actual sampling rate, but we use this
information to bin observations, so you can easily choose a lower
sampling rate.</li>
</ul>
</li>
<li>
<strong>Mouse Dots-per-cm (DPCM)</strong>
<ul>
<li>This value is optional, but if provided is used to convert your
spatial estimates from unit-less to centimeters. Can be found for most
computer mice.</li>
</ul>
</li>
</ul>
<p>Let’s try to read our provided files:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_licor.html">read_licor</a></span><span class="op">(</span></span>
<span>  <span class="va">filepath_1</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"850"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="working-with-multiple-experiments">Working with multiple experiments<a class="anchor" aria-label="anchor" href="#working-with-multiple-experiments"></a>
</h2>
<p>When working with multiple experimental trials, there are multiple
ways of reading all the data whilst keeping track of all the important
information. Here we’ll cover a few ways that are supported by
<em>animovement</em>.</p>
<ul>
<li>
<a href="#from-metadata"><strong>Read from from metadata
file</strong></a>.
<ul>
<li>
<em>When to use</em>: File names contain little or no
information.</li>
</ul>
</li>
<li>
<a href="#from-filenames"><strong>Read from file names</strong></a>.
<ul>
<li>
<em>When to use</em>: File names contain enough information that can
be used to distinguish between experiments.</li>
</ul>
</li>
</ul>
<div class="section level3">
<h3 id="from-metadata">Read from metadata file<a class="anchor" aria-label="anchor" href="#from-metadata"></a>
</h3>
<p><strong><em>When to use</em></strong>: File names contain little or
no information.</p>
<p>In this scenario we use a spreadsheet to keep track of which files go
together. We have an <code>.xlsx</code> file that contains the correct
pairs of file names. Let’s begin by reading and inspecting the file.</p>
<p>We can then import our data, one experiment after the other. Again,
we use the <em>here</em> package to make file management easier.</p>
</div>
<div class="section level3">
<h3 id="from-filenames">Read from file names<a class="anchor" aria-label="anchor" href="#from-filenames"></a>
</h3>
<p><strong><em>When to use</em></strong>: File names contain enough
information that can be used to distinguish between experiments.</p>
<p><strong>WORK IN PROGRESS!</strong></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://roald-arboel.com" class="external-link">Mikkel Roald-Arbøl</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
