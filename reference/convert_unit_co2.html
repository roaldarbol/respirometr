<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert CO2 measurements from gas analyzer data — convert_unit_co2 • respirometr</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert CO2 measurements from gas analyzer data — convert_unit_co2"><meta name="description" content="Converts CO2 measurements from gas analyzer data into standardized units,
with options for temperature correction. The function handles both regular sampling
intervals (specified by sampling frequency) and irregular intervals (specified by
time vector). It can process both single measurements and vectors of measurements.
The function implements standard gas analysis conversions and can optionally
apply temperature corrections using a Q10 = 2 approach (metabolic rate doubles
for every 10°C increase)."><meta property="og:description" content="Converts CO2 measurements from gas analyzer data into standardized units,
with options for temperature correction. The function handles both regular sampling
intervals (specified by sampling frequency) and irregular intervals (specified by
time vector). It can process both single measurements and vectors of measurements.
The function implements standard gas analysis conversions and can optionally
apply temperature corrections using a Q10 = 2 approach (metabolic rate doubles
for every 10°C increase)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">respirometr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/respirometr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/roaldarbol/respirometr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Convert CO2 measurements from gas analyzer data</h1>
      <small class="dont-index">Source: <a href="https://github.com/roaldarbol/respirometr/blob/main/R/convert_unit.R" class="external-link"><code>R/convert_unit.R</code></a></small>
      <div class="d-none name"><code>convert_unit_co2.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Converts CO2 measurements from gas analyzer data into standardized units,
with options for temperature correction. The function handles both regular sampling
intervals (specified by sampling frequency) and irregular intervals (specified by
time vector). It can process both single measurements and vectors of measurements.</p>
<p>The function implements standard gas analysis conversions and can optionally
apply temperature corrections using a Q10 = 2 approach (metabolic rate doubles
for every 10°C increase).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">convert_unit_co2</span><span class="op">(</span></span>
<span>  <span class="va">co2_value</span>,</span>
<span>  time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sampling_rate <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">flow_rate</span>,</span>
<span>  from_temperature <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  to_temperature <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  unit_input_co2 <span class="op">=</span> <span class="st">"umol/mol"</span>,</span>
<span>  unit_output_time <span class="op">=</span> <span class="st">"min"</span>,</span>
<span>  unit_output_vol <span class="op">=</span> <span class="st">"umol"</span>,</span>
<span>  unit_flowrate <span class="op">=</span> <span class="st">"mL/min"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-co-value">co2_value<a class="anchor" aria-label="anchor" href="#arg-co-value"></a></dt>
<dd><p>Numeric vector. The differential CO2 value(s) from gas analyzer
(default in μmol/mol or ppm)</p></dd>


<dt id="arg-time">time<a class="anchor" aria-label="anchor" href="#arg-time"></a></dt>
<dd><p>Numeric vector. Optional vector of timestamps in seconds. If provided,
must be the same length as co2_value. Use this for irregular sampling
intervals or when there are gaps in the data.</p></dd>


<dt id="arg-sampling-rate">sampling_rate<a class="anchor" aria-label="anchor" href="#arg-sampling-rate"></a></dt>
<dd><p>Numeric. The sampling frequency in Hz (e.g., use 30 for
30 Hz sampling). Ignored if time is provided. This is used for regular
sampling intervals.</p></dd>


<dt id="arg-flow-rate">flow_rate<a class="anchor" aria-label="anchor" href="#arg-flow-rate"></a></dt>
<dd><p>Numeric. The flow rate of gas through the system.</p></dd>


<dt id="arg-from-temperature">from_temperature<a class="anchor" aria-label="anchor" href="#arg-from-temperature"></a></dt>
<dd><p>Numeric. Source temperature in Celsius. Required when
converting to μL to adjust molar volume using ideal gas law. Must be
provided together with to_temperature if metabolic temperature correction
is desired.</p></dd>


<dt id="arg-to-temperature">to_temperature<a class="anchor" aria-label="anchor" href="#arg-to-temperature"></a></dt>
<dd><p>Numeric. Optional target temperature in Celsius. Must be
provided together with from_temperature if temperature correction is desired.</p></dd>


<dt id="arg-unit-input-co-">unit_input_co2<a class="anchor" aria-label="anchor" href="#arg-unit-input-co-"></a></dt>
<dd><p>Character. Input CO2 unit, either "uM/M" or "umol/mol"
(both equivalent to ppm). Default: "umol/mol"</p></dd>


<dt id="arg-unit-output-time">unit_output_time<a class="anchor" aria-label="anchor" href="#arg-unit-output-time"></a></dt>
<dd><p>Character. Desired time unit for the output rate, one of
"sec", "min", or "hr". Default: "min"</p></dd>


<dt id="arg-unit-output-vol">unit_output_vol<a class="anchor" aria-label="anchor" href="#arg-unit-output-vol"></a></dt>
<dd><p>Character. Desired volume unit for the output, either
"umol" or "uL". Default: "umol"</p></dd>


<dt id="arg-unit-flowrate">unit_flowrate<a class="anchor" aria-label="anchor" href="#arg-unit-flowrate"></a></dt>
<dd><p>Character. Flow rate unit, either "mL/min" or "mL/hr".
Default: "mL/min"</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Numeric vector of converted CO2 values in the specified output units</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function performs the following conversions:</p><ol><li><p>Converts CO2 measurements from ppm (μmol/mol) to fractions</p></li>
<li><p>Calculates time intervals from either sampling rate or timestamps</p></li>
<li><p>Applies flow rate conversion if needed</p></li>
<li><p>Optionally applies temperature correction using Q10 = 2</p></li>
<li><p>Converts to desired output units (for μL, uses ideal gas law to adjust molar volume based on temperature)</p></li>
</ol><p>Temperature correction uses the formula:
correction_factor = 10^((to_temperature - from_temperature) * (log10(2)/10))</p>
<p>For μL conversions, molar volume is adjusted using ideal gas law:
molar_volume = 22.4 L/mol * (T2/273.15K)</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>When using sampling_rate, provide the frequency in Hz (e.g., 30 for 30 Hz
sampling), not the period (e.g., not 1/30).</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Temperature correction method based on standard Q10 = 2 approach, where
metabolic rate doubles for every 10°C increase in temperature.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Basic usage with 2 Hz sampling</span></span></span>
<span class="r-in"><span><span class="fu">convert_unit_co2</span><span class="op">(</span></span></span>
<span class="r-in"><span>  co2_value <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>  sampling_rate <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  flow_rate <span class="op">=</span> <span class="fl">1300</span>,</span></span>
<span class="r-in"><span>  from_temperature <span class="op">=</span> <span class="fl">20</span>,</span></span>
<span class="r-in"><span>  unit_output_time <span class="op">=</span> <span class="st">"hr"</span>,</span></span>
<span class="r-in"><span>  unit_output_vol <span class="op">=</span> <span class="st">"uL"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 22501.56</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using timestamps for irregular sampling</span></span></span>
<span class="r-in"><span><span class="fu">convert_unit_co2</span><span class="op">(</span></span></span>
<span class="r-in"><span>  co2_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">102</span>, <span class="fl">98</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1.5</span>, <span class="fl">3.2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  flow_rate <span class="op">=</span> <span class="fl">1300</span>,</span></span>
<span class="r-in"><span>  from_temperature <span class="op">=</span> <span class="fl">20</span>,</span></span>
<span class="r-in"><span>  unit_output_time <span class="op">=</span> <span class="st">"hr"</span>,</span></span>
<span class="r-in"><span>  unit_output_vol <span class="op">=</span> <span class="st">"uL"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]      Inf 7650.529 6485.743</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># With temperature correction</span></span></span>
<span class="r-in"><span><span class="fu">convert_unit_co2</span><span class="op">(</span></span></span>
<span class="r-in"><span>  co2_value <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>  sampling_rate <span class="op">=</span> <span class="fl">30</span>,    <span class="co"># 30 Hz sampling</span></span></span>
<span class="r-in"><span>  flow_rate <span class="op">=</span> <span class="fl">200</span>,</span></span>
<span class="r-in"><span>  from_temperature <span class="op">=</span> <span class="fl">17</span>, <span class="co"># Experiment temperature</span></span></span>
<span class="r-in"><span>  to_temperature <span class="op">=</span> <span class="fl">25</span>,   <span class="co"># Standard temperature</span></span></span>
<span class="r-in"><span>  unit_output_vol <span class="op">=</span> <span class="st">"uL"</span>,</span></span>
<span class="r-in"><span>  unit_output_time <span class="op">=</span> <span class="st">"min"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1491.406</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Processing a sequence of measurements</span></span></span>
<span class="r-in"><span><span class="va">co2_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">95</span>, <span class="fl">98</span>, <span class="fl">100</span>, <span class="fl">103</span>, <span class="fl">99</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">times</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">8</span>, by <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>  <span class="co"># Measurements every 2 seconds</span></span></span>
<span class="r-in"><span><span class="fu">convert_unit_co2</span><span class="op">(</span></span></span>
<span class="r-in"><span>  co2_value <span class="op">=</span> <span class="va">co2_values</span>,</span></span>
<span class="r-in"><span>  time <span class="op">=</span> <span class="va">times</span>,</span></span>
<span class="r-in"><span>  flow_rate <span class="op">=</span> <span class="fl">200</span>,</span></span>
<span class="r-in"><span>  unit_output_vol <span class="op">=</span> <span class="st">"umol"</span>,</span></span>
<span class="r-in"><span>  unit_output_time <span class="op">=</span> <span class="st">"min"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]   Inf 0.588 0.600 0.618 0.594</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://roald-arboel.com" class="external-link">Mikkel Roald-Arbøl</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

